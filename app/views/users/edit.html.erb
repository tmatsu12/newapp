<div class="container">

  <div class="row">

    <div class="col-9 mt-5">

      <%= render "posts/errors", obj:@user %>

      <h1 class="border-bottom border-danger">ユーザー情報の編集</h1>

      <%= form_with model:@user, local:true do |f| %>
        <% if @user.name == "ゲスト" %>
          <div class="form-group">
            <%= f.label :名前 %><br>
            <%= f.text_field :name, class: "form-control col-5", readonly: true %>
          </div>
        <% else %>
          <div class="form-group">
            <%= f.label :名前 %><br>
            <%= f.text_field :name, class: "form-control col-5" %>
          </div>
        <% end %>

        <% if @user.name == "ゲスト" %>
          <div class="form-group">
            <%= f.label :プロフィール画像 %><br>
            <%= f.attachment_field :profile_image, disabled: true %>
          </div>
        <% else %>
          <div class="form-group">
            <%= f.label :プロフィール画像 %><br>
            <%= f.attachment_field :profile_image %>
          </div>
        <% end %>

        <div class="form-group">
          <%= f.label :住んでいる（いた）県 %><br>
          <%= f.collection_select :prefecture2_id, Prefecture.all, :id, :name, include_blank: '選択して下さい' %>
        </div>

        <div class="form-group">
          <%= f.label :住んでみたい県 %><br>
          <%= f.collection_select :prefecture1_id, Prefecture.all, :id, :name, include_blank: '選択して下さい' %>
        </div>

        <div class="actions">
          <%= f.submit "更新", class: "btn btn-success" %>
        </div>

      <% end %>


    </div>

    <div class="col-3 mt-5">
      <%= render "users/sidebar2" %>
    </div>

  </div>
</div>
